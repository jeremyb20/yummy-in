<div class="container-fluid" style="padding-left: 0px; padding-right: 0px;">
    <div *ngIf="user" class="sticky-top">
        <div [hidden]="hideMsg" class="alert alert-danger error-message" role="alert">
            <div class="d-flex flex-row align-items-center">
                <div><i class="fas fa-arrow-circle-down"></i></div>
                <div><strong>{{ errMsg }}</strong></div>
            </div>
        </div>
        <app-toolbar></app-toolbar>
    </div>
    <div class="progress" style="height: 6px;" *ngIf="loading">
        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="95" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
    </div>
    <div id="wrapper" >
        <!-- Sidebar -->
        <div *ngIf="user" id="sidebar-wrapper">
            <ul *ngIf="user.userState === 1" class="sidebar-nav">
                <li class="sidebar-brand"> <a href="#">ID: {{usernameLogged}} </a> </li>
                <li> <a [routerLink]="['/menu-registered']">Comprar comida</a> </li>
                <li> <a href="#">Mis Compras</a> </li>
                <li> <a href="#">Eventos</a> </li>
                <li> <a href="#">Configuracion</a> </li>
                <li> <a href="#">Servicio al cliente</a> </li>
                <li> <a href="#">Acerca</a> </li>
                <div class="sidebar-body d-flex flex-column flex-grow-1">
                    <div class="mt-auto"><button type="button" (click)="logout()" class="btn btn-danger btn-block"><i class="fas fa-sign-out-alt"></i> Logout</button></div>
                </div>
                
            </ul>

            <ul *ngIf="user.userState === 2" class="sidebar-nav">
                <li class="sidebar-brand"> <a href="#">ID: {{usernameLogged}} </a> </li>
                <li> <a href="#">Mis Viajes</a> </li>
                <li> <a href="#">Mis Compras</a> </li>
                <li> <a href="#">Eventos</a> </li>
                <li> <a href="#">Configuracion</a> </li>
                <li> <a href="#">Servicio al cliente</a> </li>
                <li> <a href="#">Acerca</a> </li>
                <div class="sidebar-body d-flex flex-column flex-grow-1">
                    <div class="mt-auto"><button type="button" (click)="logout()" class="btn btn-danger btn-block"><i class="fas fa-sign-out-alt"></i> Logout</button></div>
                </div>
            </ul>

            <ul *ngIf="user.userState === 3" class="sidebar-nav">
                <li class="sidebar-brand"> <a href="#">ID: {{usernameLogged}} </a> </li>
                <li> <a href="#">Configuracion</a> </li>
                <li> <a href="#">Eventos</a> </li>
                <li> <a href="#">Servicio al cliente</a> </li>
                <li> <a href="#">Acerca</a> </li>
                <div class="sidebar-body d-flex flex-column flex-grow-1">
                    <div class="mt-auto"><button type="button" (click)="logout()" class="btn btn-danger btn-block"><i class="fas fa-sign-out-alt"></i> Logout</button></div>
                </div>
            </ul>
        </div> <!-- /#sidebar-wrapper -->
        <!-- Page Content -->
        <div [ngClass]="{ 'page-content-wrapper': userLogged }">
            <router-outlet></router-outlet>
            <app-notification></app-notification>
        </div> <!-- /#page-content-wrapper -->
    </div> <!-- /#wrapper -->
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="TimeOut-Modal">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header text-center d-block">
                <h6 class="modal-title font-weight-bold">Your Session is about to end!</h6>
            </div>
            <div class="modal-body ml-1 mr-1">
                <div class="text-center">You'll be logged out in {{ countdown }} sec(s)...</div>
                <div class="progress mt-2">
                    <div class="progress-bar bg-danger" role="progressbar" [ngStyle]="{ 'width' : this.countPct + '%' }" [attr.aria-valuenow]="this.countPct" aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-sm btn-info mr-auto" data-dismiss="modal">Stay Logged In</button>
            </div>
        </div>
    </div>
</div>